{% extends 'layouts/layout-base.html.twig' %}

{% block body %}
<div class="container-fluid position-relative d-flex p-0">
    <!-- Spinner Start -->
    <div id="spinner" class="show bg-dark position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center">
        <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;" role="status">
            <span class="sr-only">Loading...</span>
        </div>
    </div>
    <!-- Spinner End -->


    <!-- Content Start -->
    <div class="content m-0 w-100">
        <div class="registration-form-box col-sm-12 col-xl-6 m-auto mt-5">
            <div class="bg-secondary rounded h-100 p-4">
                <h1 class="mb-4">Register</h1>
                {% for flash_error in app.flashes('error') %}
                    <div class="alert alert-danger" role="alert">{{ flash_error }}</div>
                {% endfor %}
                {% if form_errors(registrationForm) %}
                    <div class="alert alert-danger" role="alert">{{ form_errors(registrationForm) }}</div>
                {% endif %}
                <small>Fields marked with <span style="color: var(--primary)">*</span> are required</small>
                {{ form_start(registrationForm) }}
                <div class="row mt-3">
                    <div class="col-2">
                        {{ form_label(registrationForm.name) }}
                    </div>
                    <div class="col-sm-6">
                        {{ form_widget(registrationForm.name) }}
                    </div>
                </div>
                <div class="row mt-2">
                    <div class="col-2">
                        {{ form_label(registrationForm.email) }}
                    </div>
                    <div class="col-sm-6">
                        {{ form_widget(registrationForm.email) }}
                    </div>
                </div>
                <div class="row mt-2">
                    <div class="col-2">
                        {{ form_label(registrationForm.plainPassword.first) }}
                    </div>
                    <div class="col-sm-6">
                        {{ form_widget(registrationForm.plainPassword.first) }}
                    </div>
                </div>
                <div class="row mt-2">
                    <div class="col-2">
                        {{ form_label(registrationForm.plainPassword.second) }}
                    </div>
                    <div class="col-sm-6">
                        {{ form_widget(registrationForm.plainPassword.second) }}
                    </div>
                </div>
                <div class="row mt-2">
                    <div class="col-2">
                        {{ form_label(registrationForm.dateOfBirth) }}
                    </div>
                    <div class="col-sm-6">
                        {{ form_widget(registrationForm.dateOfBirth) }}
                    </div>
                </div>
                <div class="row mt-2">
                    <div class="col-2">
                        {{ form_label(registrationForm.address) }}
                    </div>
                    <div class="col-sm-6">
                        {{ form_widget(registrationForm.address) }}
                    </div>
                </div>
                <div class="row mt-2">
                    <div class="col-2">
                        {{ form_label(registrationForm.image) }}
                    </div>
                    <div class="col-sm-6">
                        {{ form_widget(registrationForm.image) }}
                    </div>
                </div>
                <div class="row mt-2">
                    <div class="col-2">
                        {{ form_label(registrationForm.phone) }}
                    </div>
                    <div class="col-sm-6">
                        {{ form_widget(registrationForm.phone) }}
                    </div>
                </div>

                <div class="row mt-2">
                    <div class="col-3">
                        {{ form_label(registrationForm.roles) }}
                    </div>
                </div>
                <div class="row mt-2 form-control d-flex mb-3">
                    {% for child in registrationForm.roles %}
                        <div class="col-sm-5 m-2 p-2 single-role">
                            {{ form_widget(child) }}
                            {{ form_label(child) }}
                        </div>
                    {% endfor %}
                </div>
                <div class="row mt-2 mb-2" id="registration_form_code_container" style="display: none;">
                    <div class="col-2">
                        {{ form_label(registrationForm.code) }}
                    </div>
                    <div class="col-sm-6">
                        {{ form_widget(registrationForm.code) }}
                    </div>
                </div>
                <small class="mt-2">Have an account? <a href="{{ path('app_login') }}">Login now!</a></small><br>
                <button type="submit" class="btn btn-primary mt-4">Register</button>
                {{ form_end(registrationForm) }}
            </div>
        </div>
    </div>
    <!-- Content End -->
    <a href="#" class="btn btn-lg btn-primary btn-lg-square back-to-top"><i class="fa-solid fa-arrow-up"></i></a>
</div>
{% endblock %}
